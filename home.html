<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <script type="javascript" src="backend.js"></script>
    <link rel="stylesheet" href="style.css">
    <title>Home</title>
    <!-- DATABASE CONNECTION DON'T TOUCH -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <!-- Database connection: Firebase is basically MongoDB, the following code is copied from Firebase-->
    <script>
        console.log("STARTING DB CONNECTION");
        // Your web app's Firebase configuration
        firebase.initializeApp({
            apiKey: "AIzaSyBHPV6k7TkSCmRvu3aPnaExWZZaaBQuY6g",
            authDomain: "cis440-capstone.firebaseapp.com",
            projectId: "cis440-capstone",
            storageBucket: "cis440-capstone.appspot.com",
            messagingSenderId: "949879801088",
            appId: "1:949879801088:web:9df9adc21bb46f2f195fe5"
        });
        console.log("INITIALIZED FIREBASE");
      
        // Initialize Database
        var db = firebase.firestore();
        console.log("REGISTERED DB IN JS");
        // Add a second document with a generated ID.
        db.collection("reviews").add({
            location: "Hayden",
            type: "Gender",
            rating: 5,
            comment: "Please Help"
        })
        .then((docRef) => {
            console.log("Document written with ID: ", docRef.id);
        })
        .catch((error) => {
            console.error("Error adding document: ", error);
        });
        console.log("ADDED DB RECORD IN FIREBASE")
        db.collection("reviews").get().then((querySnapshot) => {
            querySnapshot.forEach((doc) => {
                console.log(`${doc.id} => ${doc.data()}`);
            });
        });
      </script>
    <!-- END OF DATABASE CONNECTION -->
</head>

<body>
    <div class="topnav">
        <a class="active" href="#home">Home</a>
        <a href="#contact">Find a Bathroom</a>
        <a href="#about">Rate</a>
        <input type="text" placeholder="Search..">
    </div>

    <div>
        <h1>Recently Added Reviews</h1>
        <p>
            Location: Hayden Library <br>
            Type: Gender Neutral <br>
            Rated: 3 / 5 stars <br>
            This bathroom is usually very very clean, rated lower just because there was no toilet paper left!
        </p>
        <p>
            Location: Memorial Union 2nd Floor <br>
            Type: Women's <br>
            Rated: 1 / 5 stars <br>
            This bathroom stinks! Cleaners, where are you?!
        </p>
        <p>
            Location: Business Administration 2nd floor <br>
            Type: Men's <br>
            Rated: 4 / 5 stars <br>
            Surprisingly clean for a men's bathroom! Floors were cleaned, stalls well maintained :)
        </p>
        <button onclick="addABathroom()">Add a Review</button>
    </div>

</body>
</html>